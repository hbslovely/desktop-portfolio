<!-- Welcome/Lock Screen -->
<div class="welcome-screen" *ngIf="!isAuthenticated()">
  <!-- Background with blur effect -->
  <div class="welcome-background">
    <div class="wallpaper"></div>
    <div class="overlay"></div>
  </div>

  <!-- Main content -->
  <div class="welcome-content">
    <!-- Time and Date Display -->
    <div class="time-display">
      <div class="current-time">{{ currentTime() }}</div>
      <div class="current-date">{{ currentDate() }}</div>
    </div>

    <!-- User Profile Section -->
    <div class="user-section">
      <div class="user-avatar">
        <img src="assets/images/icons/profile.png" alt="User Avatar" class="avatar-image">
      </div>
      <div class="user-name">Welcome</div>
      <div class="user-subtitle">Enter password to continue</div>
    </div>

    <!-- Password Input Section -->
    <div class="password-section">
      <div class="password-container">
        <div class="password-input-wrapper">
          <input
            [type]="showPassword() ? 'text' : 'password'"
            class="password-input"
            [class.error]="errorMessage()"
            [value]="password()"
            (input)="onPasswordInput($event)"
            (keypress)="onKeyPress($event)"
            placeholder="Enter password"
            autofocus>
          <button 
            type="button" 
            class="password-toggle"
            (click)="togglePasswordVisibility()"
            [title]="showPassword() ? 'Hide password' : 'Show password'">
            <i [class]="showPassword() ? 'pi pi-eye-slash' : 'pi pi-eye'"></i>
          </button>
        </div>
        
        <button 
          type="button" 
          class="login-button"
          [class.loading]="isLoading()"
          [disabled]="!password() || isLoading()"
          (click)="onSubmit()">
          <span *ngIf="!isLoading()">Sign In</span>
          <div *ngIf="isLoading()" class="loading-spinner"></div>
        </button>
      </div>

      <!-- Error Message -->
      <div class="error-message" *ngIf="errorMessage()">
        <i class="pi pi-exclamation-triangle"></i>
        <span>{{ errorMessage() }}</span>
      </div>

      <!-- Password Hint -->
      <div class="password-hint-container">
        <button class="hint-toggle-btn" (click)="toggleHint()" [title]="showHint() ? 'Hide hint' : 'Show hint'">
          <i [class]="showHint() ? 'pi pi-eye-slash' : 'pi pi-info-circle'"></i>
          <span>{{ showHint() ? 'Hide Hint' : 'Show Hint' }}</span>
        </button>
        
        <div class="password-hint" *ngIf="showHint()">
          <i class="pi pi-lightbulb"></i>
          <span>{{ getPasswordHint() }}</span>
        </div>
      </div>
    </div>

    <!-- Additional Options -->
    <div class="welcome-options">
      <button class="option-button" title="Accessibility">
        <i class="pi pi-universal-access"></i>
      </button>
      <button class="option-button" title="Network">
        <i class="pi pi-wifi"></i>
      </button>
      <button class="option-button" title="Power">
        <i class="pi pi-power-off"></i>
      </button>
    </div>
  </div>

  <!-- Loading Screen (shown after authentication) -->
  <div class="loading-screen" *ngIf="isAuthenticated()">
    <div class="loading-content">
      <div class="loading-avatar">
        <img src="assets/images/icons/profile.png" alt="User Avatar" class="avatar-image">
      </div>
      <div class="loading-text">Welcome back!</div>
      <div class="loading-progress">
        <div class="progress-bar">
          <div class="progress-fill"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Desktop Content (shown after authentication) -->
<div class="desktop-content" *ngIf="isAuthenticated()">
  <ng-content></ng-content>
</div>
