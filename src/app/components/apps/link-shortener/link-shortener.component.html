<div class="link-shortener">
  <!-- Header -->
  <div class="shortener-header">
    <div class="header-content">
      <div class="header-icon">
        <i class="pi pi-link"></i>
      </div>
      <div class="header-text">
        <h1>Link Shortener</h1>
        <p>Powered by <a href="https://cleanuri.com" target="_blank">CleanURI</a></p>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="shortener-content">
    <!-- Input Section -->
    <div class="input-section">
      <div class="input-card">
        <h2>Shorten Your Link</h2>
        
        <!-- URL Input -->
        <div class="input-group">
          <label for="url-input">Long URL</label>
          <div class="input-wrapper">
            <i class="pi pi-globe"></i>
            <input
              id="url-input"
              type="text"
              class="url-input"
              [value]="inputUrl()"
              (input)="onInputChange($event)"
              placeholder="https://example.com/very-long-url"
              [disabled]="loading()">
          </div>
        </div>

        <!-- Error Message -->
        <div class="error-message" *ngIf="error()">
          <i class="pi pi-exclamation-triangle"></i>
          <span>{{ error() }}</span>
        </div>

        <!-- Shorten Button -->
        <button
          class="shorten-btn"
          (click)="shortenLink()"
          [disabled]="loading() || !inputUrl().trim()">
          <span *ngIf="!loading()">
            <i class="pi pi-bolt"></i>
            Shorten Link
          </span>
          <span *ngIf="loading()" class="loading-text">
            <div class="spinner"></div>
            Shortening...
          </span>
        </button>
      </div>
    </div>

    <!-- History Section -->
    <div class="history-section">
      <div class="history-header">
        <h2>
          <i class="pi pi-history"></i>
          History
        </h2>
        <button
          *ngIf="linkHistory().length > 0"
          class="clear-btn"
          (click)="clearHistory()"
          title="Clear History">
          <i class="pi pi-trash"></i>
          Clear All
        </button>
      </div>

      <!-- Empty State -->
      <div class="empty-state" *ngIf="linkHistory().length === 0">
        <i class="pi pi-inbox"></i>
        <p>No shortened links yet</p>
        <small>Your shortened links will appear here</small>
      </div>

      <!-- History List -->
      <div class="history-list" *ngIf="linkHistory().length > 0">
        <div class="history-item" *ngFor="let link of linkHistory()">
          <div class="link-info">
            <div class="short-url-container">
              <div class="short-url" (click)="openLink(link.shortUrl)">
                <i class="pi pi-link"></i>
                <span class="url-text">{{ link.shortUrl }}</span>
                <i class="pi pi-external-link external-icon"></i>
              </div>
              <div class="link-actions">
                <button
                  class="action-btn copy-btn"
                  (click)="copyToClipboard(link.shortUrl, link.code)"
                  [class.copied]="copiedCode() === link.code"
                  [title]="copiedCode() === link.code ? 'Copied!' : 'Copy to clipboard'">
                  <i [class]="copiedCode() === link.code ? 'pi pi-check' : 'pi pi-copy'"></i>
                </button>
                <button
                  class="action-btn delete-btn"
                  (click)="deleteFromHistory(link.code)"
                  title="Remove from history">
                  <i class="pi pi-trash"></i>
                </button>
              </div>
            </div>
            
            <div class="long-url">
              <i class="pi pi-arrow-right"></i>
              <span class="url-text">{{ link.long }}</span>
            </div>
            
            <div class="link-meta">
              <span class="timestamp">{{ getTimeAgo(link.timestamp) }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Features Info -->
  <div class="features-info">
    <div class="feature-item">
      <i class="pi pi-check-circle"></i>
      <span>Clean & simple URLs</span>
    </div>
    <div class="feature-item">
      <i class="pi pi-check-circle"></i>
      <span>No tracking or ads</span>
    </div>
    <div class="feature-item">
      <i class="pi pi-check-circle"></i>
      <span>Instant shortening</span>
    </div>
    <div class="feature-item">
      <i class="pi pi-check-circle"></i>
      <span>Free & Fast</span>
    </div>
  </div>
</div>

