<div class="text-viewer-container">
  <!-- Toolbar -->
  <div class="toolbar">
    <div class="file-info">
      <i class="pi pi-file" [class.pi-file-edit]="isMarkdown()"></i>
      <span class="file-name">{{ fileName }}</span>
      <span class="file-type" *ngIf="fileType">.{{ fileType }}</span>
    </div>
    
    <div class="toolbar-actions">
      <button class="action-btn" (click)="reload()" title="Reload">
        <i class="pi pi-refresh"></i>
      </button>
    </div>
  </div>
  
  <!-- Content Area -->
  <div class="content-area">
    <!-- Loading State -->
    <div *ngIf="isLoading()" class="loading-state">
      <i class="pi pi-spin pi-spinner"></i>
      <p>Loading {{ fileName }}...</p>
    </div>
    
    <!-- Error State -->
    <div *ngIf="hasError()" class="error-state">
      <i class="pi pi-exclamation-triangle"></i>
      <h3>Failed to load file</h3>
      <p>{{ errorMessage() }}</p>
      <button class="retry-btn" (click)="reload()">
        <i class="pi pi-refresh"></i>
        Try Again
      </button>
    </div>
    
    <!-- Content Display -->
    <div *ngIf="!isLoading() && !hasError()" class="content-display">
      <!-- Plain Text -->
      <pre *ngIf="!isMarkdown()" class="text-content">{{ content() }}</pre>
      
      <!-- Markdown Content -->
      <div *ngIf="isMarkdown()" class="markdown-content" [innerHTML]="formattedContent()"></div>
    </div>
  </div>
</div>
