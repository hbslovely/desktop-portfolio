<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>V√≤ng Quay T·∫øt 2026 - H·ªôi Xu√¢n</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@500;700&display=swap"
    rel="stylesheet">
  <style>
    :root {
      --gold: #fbc531;
      --red-dark: #b31217;
      --cream: #fff9e6;
      --gold-light: #fffa65;
    }

    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
      background: var(--red-dark) radial-gradient(circle, #d63031 0%, #5c090b 100%);
      font-family: 'Quicksand', sans-serif;
      color: white;
      overflow-x: hidden;
      position: relative;
    }

    /* Hi·ªáu ·ª©ng hoa mai bay nh·∫£y */
    .decor-item {
      position: absolute;
      pointer-events: none;
      z-index: 0;
      animation: float 6s infinite ease-in-out;
      opacity: 0.8;
    }

    @keyframes float {
      0%, 100% {
        transform: translateY(0) rotate(0deg);
      }
      50% {
        transform: translateY(-20px) rotate(20deg);
      }
    }

    h2 {
      font-family: 'Dancing Script', cursive;
      font-size: clamp(35px, 8vw, 60px);
      color: var(--gold);
      margin: 0;
      text-shadow: 0 0 15px rgba(251, 197, 49, 0.8);
      z-index: 10;
    }

    /* S·ªï s·ªõ */
    #historyBox {
      position: fixed;
      left: 20px;
      top: 120px;
      background: var(--cream);
      color: #333;
      padding: 20px;
      border-radius: 10px;
      border-left: 8px solid var(--gold);
      display: none;
      box-shadow: 10px 10px 25px rgba(0, 0, 0, 0.4);
      z-index: 90;
      width: 220px;
      background-image: url('https://www.transparenttextures.com/patterns/paper.png');
    }

    .history-title {
      font-family: 'Dancing Script', cursive;
      font-size: 24px;
      color: var(--red-dark);
      border-bottom: 2px solid var(--red-dark);
      margin-bottom: 10px;
      text-align: center;
    }

    .history-value {
      color: var(--red-dark);
      font-weight: 700;
      font-size: 18px;
      display: block;
    }

    /* V√≤ng quay */
    .wheel-outer {
      position: relative;
      width: min(85vw, 480px);
      height: min(85vw, 480px);
      margin-top: 40px;
      display: flex;
      justify-content: center;
      align-items: center;
      border: 15px solid var(--gold);
      border-radius: 50%;
      background: var(--gold);
      box-sizing: border-box;
      z-index: 5;
      box-shadow: 0 0 30px rgba(251, 197, 49, 0.5);
    }

    .pointer {
      position: absolute;
      top: -40px;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 25px solid transparent;
      border-right: 25px solid transparent;
      border-top: 60px solid #fff;
      z-index: 10;
      filter: drop-shadow(0 5px 10px rgba(0, 0, 0, 0.5));
    }

    canvas {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      transition: transform 8s cubic-bezier(0.1, 0, 0, 1);
      background: white;
    }

    /* N√∫t quay */
    button#spinBtn {
      margin-top: 30px;
      padding: 18px 60px;
      font-size: 26px;
      font-weight: bold;
      background: linear-gradient(180deg, var(--gold-light), var(--gold));
      color: var(--red-dark);
      border: none;
      border-radius: 50px;
      cursor: pointer;
      box-shadow: 0 8px 0 #8d240d, 0 10px 20px rgba(0, 0, 0, 0.3);
      z-index: 10;
    }

    button:active {
      transform: translateY(4px);
      box-shadow: 0 4px 0 #8d240d;
    }

    /* Modal K·∫øt qu·∫£ c·ª±c to */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 100;
    }

    .modal-content {
      background: white;
      padding: 40px;
      border-radius: 30px;
      text-align: center;
      color: #333;
      width: 90%;
      max-width: 450px;
      border: 10px solid var(--gold);
      box-shadow: 0 0 50px var(--gold);
    }

    .prize-announcement {
      font-size: 60px;
      font-weight: 900;
      color: var(--red-dark);
      margin: 20px 0;
      text-shadow: 2px 2px 0px var(--gold), 4px 4px 15px rgba(0, 0, 0, 0.2);
      animation: grow 1s ease-in-out;
    }

    @keyframes grow {
      from {
        transform: scale(0.5);
      }
      to {
        transform: scale(1);
      }
    }

    /* Responsive Mobile */
    @media (max-width: 1024px) {
      #historyBox {
        position: relative;
        left: 0;
        top: 20px;
        width: 90%;
        margin: 20px auto;
        order: 3;
      }
    }
  </style>
</head>
<body>

<div class="decor-item" style="top: 10%; left: 5%; font-size: 40px;">üå∏</div>
<div class="decor-item" style="top: 20%; right: 10%; font-size: 50px; animation-delay: 1s;">üßß</div>
<div class="decor-item" style="bottom: 15%; left: 10%; font-size: 45px; animation-delay: 2s;">üèÆ</div>
<div class="decor-item" style="bottom: 25%; right: 5%; font-size: 35px; animation-delay: 1.5s;">üå∏</div>

<div id="loginModal" class="modal">
  <div class="modal-content">
    <h3 style="font-family:'Dancing Script'; font-size:40px; color:var(--red-dark); margin:0;">Khai Xu√¢n B√≠nh Ng·ªç</h3>
    <p style="font-size: 18px;">M·ªùi qu√Ω danh nh·∫≠p t√™n nh·∫≠n l·ªôc:</p>
    <input type="text" id="nameInput" placeholder="T√™n c·ªßa b·∫°n..."
           style="padding:15px; width:85%; margin-bottom:25px; border-radius:15px; border:3px solid var(--gold); text-align:center; font-size: 20px;">
    <br>
    <button onclick="startGame()"
            style="background:var(--red-dark); color:white; padding:15px 45px; border:none; border-radius:30px; cursor:pointer; font-weight:bold; font-size: 20px;">
      V√ÄO H·ªòI XU√ÇN
    </button>
  </div>
</div>

<div id="resultModal" class="modal" style="display:none">
  <div class="modal-content">
    <h3 style="font-family:'Dancing Script'; font-size:45px; color:var(--red-dark); margin:0;">üßß Ch√∫c M·ª´ng üßß</h3>
    <div id="resPrize" class="prize-announcement"></div>
    <p id="resWish"
       style="font-style:italic; background:var(--cream); padding:20px; border-radius:15px; border:2px dashed var(--gold); color:#333; font-size: 18px;"></p>
    <button onclick="closeModal()"
            style="margin-top:30px; padding:15px 40px; background:var(--gold); border:none; border-radius:30px; font-weight:bold; cursor:pointer; font-size: 20px; color:var(--red-dark);">
      X√ÅC NH·∫¨N üå∏
    </button>
  </div>
</div>

<h2>üèÆ Xu√¢n B√≠nh Ng·ªç 2026 üèÆ</h2>

<div class="wheel-outer" id="wheelCont">
  <div class="pointer"></div>
  <canvas id="wheel" width="500" height="500"></canvas>
</div>

<button id="spinBtn" disabled>üßß QUAY L·∫§Y L·ªòC üßß</button>

<div id="historyBox">
  <div class="history-title">S·ªï S·ªõ Nh·∫≠n L·ªôc</div>
  <div class="history-item">Qu√Ω danh: <span class="history-value" id="dispName">---</span></div>
  <div class="history-item">Gi·ªù l√†nh: <span class="history-value" id="dispTime" style="font-size:12px">---</span></div>
  <div class="history-item">L·ªôc ƒë√£ nh·∫≠n: <span class="history-value" id="dispResult">---</span></div>
</div>

<script>
  const PRIZE_MAPPING = [
    {label: "10.000ƒë", weight: 100},
    {label: "39.000ƒë", weight: 50},
    {label: "60.000ƒë", weight: 40},
    {label: "20.000ƒë", weight: 90},
    {label: "69.000ƒë", weight: 30},
    {label: "86.000ƒë", weight: 20},
    {label: "5.000ƒë", weight: 50},
    {label: "79.000ƒë", weight: 15},
    {label: "80.000ƒë", weight: 15},
    {label: "88.000ƒë", weight: 15},
    {label: "66.000ƒë", weight: 15},
    {label: "50.000ƒë", weight: 45},
    {label: "99.000ƒë", weight: 20},
    {label: "200.000ƒë", weight: 0.01},
    {label: "399.000ƒë", weight: 0.01},
    {label: "500.000ƒë", weight: 0.005},
    {label: "1,000.000ƒë", weight: 0},
    {label: "2,025.000ƒë", weight: 0.001},
  ];

  let WHEEL_LIST = [];
  PRIZE_MAPPING.forEach(item => {
    const val = parseInt(item.label.replace(/[.,]/g, ''));
    if (!isNaN(val) && val < 100000) {
      WHEEL_LIST.push({...item});
      WHEEL_LIST.push({...item});
    } else {
      WHEEL_LIST.push({...item});
    }
  });
  if (WHEEL_LIST.length % 2 !== 0) WHEEL_LIST.push({label: "L·ªùi Ch√∫c", weight: 50});
  WHEEL_LIST = WHEEL_LIST.sort(() => Math.random() - 0.5);

  const wishes = [
    "NƒÉm c≈© ·∫§t T·ªµ v·ª´a kh√©p l·∫°i, m·ªü ra h√†nh tr√¨nh B√≠nh Ng·ªç 2026 r·ª±c r·ª°. Mong r·∫±ng m·ªçi d·ª± ƒë·ªãnh c·ªßa b·∫°n s·∫Ω phi nhanh nh∆∞ ng·ª±a chi·∫øn, s·ªõm ch·∫°m ƒë·∫øn ƒë√≠ch ƒë·∫øn c·ªßa th√†nh c√¥ng v√† vi√™n m√£n.",
    "Kh√©p l·∫°i nh·ªØng lo toan c·ªßa nƒÉm c≈©, nƒÉm con Ng·ª±a n√†y s·∫Ω mang ƒë·∫øn cho b·∫°n ngu·ªìn nƒÉng l∆∞·ª£ng m·ªõi ƒë·ªÉ b·ª©t ph√° m·∫°nh m·∫Ω, g·∫∑t h√°i l·ªôc v√†ng v√† lu√¥n tr√†n ƒë·∫ßy b·∫£n lƒ©nh tr√™n m·ªçi cung ƒë∆∞·ªùng.",
    "B∆∞·ªõc sang nƒÉm 2026, hy v·ªçng cu·ªôc s·ªëng c·ªßa b·∫°n lu√¥n th√¥ng dong, t·ª± t·∫°i nh∆∞ ng·ª±a qu√Ω tr√™n th·∫£o nguy√™n, v·∫°n s·ª± hanh th√¥ng, c√¥ng danh t·∫•n t·ªõi v√† gia ƒë·∫°o lu√¥n ·∫•m √™m h√≤a thu·∫≠n.",
    "Ti·ªÖn bi·ªát nƒÉm T·ªµ, ƒë√≥n ch√†o B√≠nh Ng·ªç v·ªõi t√¢m th·∫ø h·ª©ng kh·ªüi. C·∫ßu mong l·ªôc xu√¢n g√µ c·ª≠a, t√†i v·∫≠n thƒÉng hoa v√† b·∫°n s·∫Ω c√≥ m·ªôt nƒÉm 2026 m√£ ƒë√°o th√†nh c√¥ng, v·∫°n ƒëi·ªÅu nh∆∞ √Ω nguy·ªán.",
    "NƒÉm 2026 ƒë√£ g√µ c·ª≠a, ch√∫c cho nh·ªØng b∆∞·ªõc ch√¢n c·ªßa b·∫°n trong nƒÉm con Ng·ª±a n√†y lu√¥n v·ªØng ch√£i, d·∫´n l·ªëi ƒë·∫øn nh·ªØng ch√¢n tr·ªùi m·ªõi ƒë·∫ßy ·∫Øp ni·ªÅm vui, ph√∫ qu√Ω v√† s·ª± an nhi√™n.",
    "B√≠nh Ng·ªç 2026 l√† th·ªùi ƒëi·ªÉm ƒë·ªÉ b·ª©t ph√°. Mong b·∫°n lu√¥n gi·ªØ v·ªØng phong ƒë·ªô, s·ª± nghi·ªáp thƒÉng ti·∫øn v√®o v√®o, s·ª©c kh·ªèe d·∫ªo dai v√† g·∫∑t h√°i ƒë∆∞·ª£c th·∫≠t nhi·ªÅu th√†nh qu·∫£ ng·ªçt ng√†o.",
    "NƒÉm c≈© qua ƒëi, v·∫≠n may m·ªõi l·∫°i ƒë·∫øn. Hy v·ªçng nƒÉm B√≠nh Ng·ªç n√†y s·∫Ω mang l·∫°i cho b·∫°n v√† gia ƒë√¨nh s·ª± kh·ªüi s·∫Øc r·ª±c r·ª°, ti·ªÅn t√†i r·ªßng r·ªânh v√† h·∫°nh ph√∫c ƒëong ƒë·∫ßy trong t·ª´ng ph√∫t gi√¢y.",
    "C·∫ßu mong nƒÉm con Ng·ª±a 2026 s·∫Ω ti·∫øp th√™m s·ª©c m·∫°nh ƒë·ªÉ b·∫°n chinh ph·ª•c m·ªçi th·ª≠ th√°ch, m·ªói b∆∞·ªõc ƒëi ƒë·ªÅu c√≥ qu√Ω nh√¢n ph√π tr·ª£, m·ªói d·ª± √°n ƒë·ªÅu thu v·ªÅ k·∫øt qu·∫£ m·ªπ m√£n.",
    "Trong kh√¥ng kh√≠ r·ªôn r√£ c·ªßa xu√¢n B√≠nh Ng·ªç, hy v·ªçng b·∫°n s·∫Ω ƒë√≥n nh·∫≠n nh·ªØng c∆° h·ªôi v√†ng, t√†i l·ªôc ph√°t l·ªôc, b√¨nh an t·ª± t·∫°i v√† lu√¥n r·∫°ng r·ª° ni·ªÅm c∆∞·ªùi h·∫°nh ph√∫c.",
    "T·∫°m bi·ªát nƒÉm T·ªµ c≈©, ƒë√≥n ch√†o nƒÉm m·ªõi 2026 ƒë·∫ßy hy v·ªçng. Ch√∫c cho h√†nh tr√¨nh s·∫Øp t·ªõi c·ªßa b·∫°n lu√¥n thu·∫≠n bu·ªìm xu√¥i gi√≥, m√£ ƒë√°o th√†nh c√¥ng v√† tr√†n ng·∫≠p nh·ªØng k·ªâ ni·ªám ƒë√°ng nh·ªõ.",
    "NƒÉm B√≠nh Ng·ªç n√†y, mong r·∫±ng tinh th·∫ßn c·ªßa b·∫°n s·∫Ω lu√¥n qu·∫≠t kh·ªüi nh∆∞ ch√∫ ng·ª±a ƒë·∫ßu ƒë√†n, d·∫´n d·∫Øt s·ª± nghi·ªáp v√† cu·ªôc s·ªëng ƒë·∫°t ƒë·∫øn nh·ªØng t·∫ßm cao m·ªõi ƒë·∫ßy t·ª± h√†o.",
    "S·∫Øc xu√¢n 2026 ƒëang lan t·ªèa, c·∫ßu ch√∫c l·ªôc xu√¢n tr√†n tr·ªÅ, s·ª©c kh·ªèe d·ªìi d√†o, v√† b·∫°n s·∫Ω c√≥ m·ªôt nƒÉm con Ng·ª±a th·∫≠t b√πng n·ªï v·ªõi nh·ªØng th√†nh t√≠ch v∆∞·ª£t ngo√†i mong ƒë·ª£i.",
    "B∆∞·ªõc qua nƒÉm c≈©, ƒë√≥n v·∫≠n h·ªôi m·ªõi c·ªßa B√≠nh Ng·ªç 2026. Ch√∫c cho t√∫i ti·ªÅn c·ªßa b·∫°n lu√¥n ƒë·∫ßy, tr√°i tim lu√¥n ·∫•m v√† m·ªçi n·ªó l·ª±c ƒë·ªÅu ƒë∆∞·ª£c ƒë·ªÅn ƒë√°p x·ª©ng ƒë√°ng b·∫±ng vinh hoa ph√∫ qu√Ω.",
    "NƒÉm m·ªõi 2026 ch√≠nh l√† l√∫c ƒë·ªÉ v∆∞∆°n xa h∆°n. Hy v·ªçng b·∫°n lu√¥n gi·ªØ ƒë∆∞·ª£c s·ª± nh·∫°y b√©n, t·ªëc ƒë·ªô v√† b·∫£n lƒ©nh c·ªßa lo√†i ng·ª±a ƒë·ªÉ g·∫∑t h√°i nh·ªØng th√†nh c√¥ng vang d·ªôi nh·∫•t.",
    "Mong r·∫±ng nƒÉm B√≠nh Ng·ªç n√†y s·∫Ω x√≥a tan m·ªçi mu·ªôn phi·ªÅn c·ªßa nƒÉm c≈©, thay v√†o ƒë√≥ l√† s·ª± sung t√∫c, may m·∫Øn g√µ c·ª≠a v√† m·ªôt h√†nh tr√¨nh 2026 th·∫≠t r·ª±c r·ª° s·∫Øc m√†u.",
    "NƒÉm con Ng·ª±a 2026, ch√∫c cho v·∫°n s·ª± trong l√≤ng b·∫°n ƒë·ªÅu ƒë∆∞·ª£c h·ªìi ƒë√°p t·ªët ƒë·∫πp, c√¥ng vi·ªác hanh th√¥ng, t√†i l·ªôc d·ªìi d√†o v√† gia ƒë√¨nh lu√¥n l√† b·∫øn ƒë·ªó b√¨nh an nh·∫•t.",
    "ƒê√≥n ch√†o B√≠nh Ng·ªç v·ªõi th·∫≠t nhi·ªÅu ni·ªÅm tin m·ªõi. C·∫ßu ch√∫c cho s·ª± nghi·ªáp c·ªßa b·∫°n ph√°t tri·ªÉn kh√¥ng ng·ª´ng, ti·ªÅn t√†i t·∫•n t·ªõi v√† lu√¥n d·ªìi d√†o s·ª©c s·ªëng nh∆∞ xu√¢n sang.",
    "M·ª´ng xu√¢n 2026, hy v·ªçng m·ªói ng√†y c·ªßa b·∫°n ƒë·ªÅu l√† m·ªôt ni·ªÅm vui m·ªõi, l·ªôc l√° ƒë·∫ßy nh√†, m√£ ƒë√°o th√†nh c√¥ng v√† cu·ªôc s·ªëng lu√¥n tr√¥i qua m·ªôt c√°ch nh·∫π nh√†ng, √Ω nghƒ©a.",
    "NƒÉm c≈© T·ªµ ƒë√£ qua, nh∆∞·ªùng ch·ªó cho B√≠nh Ng·ªç ƒë·∫ßy nƒÉng ƒë·ªông. Mong b·∫°n lu√¥n v·ªØng tay ch√®o, ch·∫Øc tay l√°i ƒë·ªÉ ƒë∆∞a con thuy·ªÅn s·ª± nghi·ªáp c·∫≠p b·∫øn th√†nh c√¥ng trong nƒÉm 2026.",
    "Ch√†o ƒë√≥n B√≠nh Ng·ªç 2026 b·∫±ng s·ª± l·∫°c quan nh·∫•t. Ch√∫c cho gia ƒë·∫°o b·∫°n lu√¥n an khang, t√¨nh c·∫£m g·∫Øn k·∫øt b·ªÅn ch·∫∑t v√† m·ªçi b∆∞·ªõc ƒëi ƒë·ªÅu mang l·∫°i t√†i l·ªôc r·ª±c r·ª°."
  ];

  const canvas = document.getElementById('wheel');
  const ctx = canvas.getContext('2d');
  const spinBtn = document.getElementById('spinBtn');
  let currentRotation = 0;
  let pName = "";

  window.onload = () => {
    drawWheel();
    const saved = localStorage.getItem('tet_2026_data');
    if (saved) {
      const data = JSON.parse(saved);
      document.getElementById('loginModal').style.display = 'none';
      showHistory(data.name, data.time, data.result);
      spinBtn.disabled = true;
      spinBtn.innerText = "H·∫æT L∆Ø·ª¢T QUAY";
    }
  };

  function drawWheel() {
    const arc = (2 * Math.PI) / WHEEL_LIST.length;
    WHEEL_LIST.forEach((item, i) => {
      const angle = i * arc;
      ctx.beginPath();
      ctx.fillStyle = (i % 2 === 0) ? "#b31217" : "#fff9e6";
      if (item.label === "2,025.000ƒë") {
        ctx.fillStyle = '#ff0707';
      }
      ctx.moveTo(250, 250);
      ctx.arc(250, 250, 250, angle, angle + arc);
      ctx.fill();
      ctx.save();
      ctx.translate(250, 250);
      ctx.rotate(angle + arc / 2);
      ctx.textAlign = "right";
      ctx.fillStyle = (i % 2 === 0) ? "#fff9e6" : "#b31217";
      if (item.label === "2,025.000ƒë") {
        ctx.fillStyle = '#ffd300';
      }
      ctx.font = "bold 15px Arial";
      ctx.fillText(item.label, 235, 8);
      ctx.restore();
    });
  }

  function startGame() {
    pName = document.getElementById('nameInput').value.trim();
    if (!pName) return alert("M·ªùi qu√Ω danh nh·∫≠p t√™n!");
    document.getElementById('loginModal').style.display = 'none';
    document.getElementById('historyBox').style.display = 'block';
    document.getElementById('dispName').innerText = pName;
    spinBtn.disabled = false;
  }

  spinBtn.onclick = () => {
    spinBtn.disabled = true;
    document.getElementById('wheelCont').classList.add('spinning');
    const totalWeight = WHEEL_LIST.reduce((s, i) => s + i.weight, 0);
    let rand = Math.random() * totalWeight;
    let winIdx = 0;
    for (let i = 0; i < WHEEL_LIST.length; i++) {
      if (rand < WHEEL_LIST[i].weight) {
        winIdx = i;
        break;
      }
      rand -= WHEEL_LIST[i].weight;
    }
    const segDeg = 360 / WHEEL_LIST.length;
    const targetPos = (360 - (winIdx * segDeg)) - (segDeg / 2) - 90;
    const finalRotation = currentRotation + (360 * 10) + (targetPos - (currentRotation % 360));
    canvas.style.transform = `rotate(${finalRotation}deg)`;
    currentRotation = finalRotation;

    setTimeout(() => {
      const res = WHEEL_LIST[winIdx].label;
      const time = new Date().toLocaleString('vi-VN');
      localStorage.setItem('tet_2026_data', JSON.stringify({name: pName, result: res, time: time}));
      showHistory(pName, time, res);
      document.getElementById('resPrize').innerText = res;
      document.getElementById('resWish').innerText = wishes[Math.floor(Math.random() * wishes.length)];
      document.getElementById('resultModal').style.display = 'flex';
      spinBtn.innerText = "H·∫æT L∆Ø·ª¢T QUAY";
    }, 8500);
  };

  function showHistory(n, t, r) {
    document.getElementById('historyBox').style.display = 'block';
    document.getElementById('dispName').innerText = n;
    document.getElementById('dispTime').innerText = t;
    document.getElementById('dispResult').innerText = r;
  }

  function closeModal() {
    document.getElementById('resultModal').style.display = 'none';
  }
</script>
</body>
</html>
